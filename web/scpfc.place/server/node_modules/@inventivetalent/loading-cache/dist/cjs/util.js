"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.keyPromiseMapToPromiseContainingMap = exports.asArray = void 0;
function asArray(iterable) {
    if (iterable instanceof Array) {
        return iterable;
    }
    return Array.from(iterable);
}
exports.asArray = asArray;
function keyPromiseMapToPromiseContainingMap(keyToPromiseMap) {
    return new Promise(resolve => {
        const keys = keyToPromiseMap.keys();
        const values = keyToPromiseMap.values();
        Promise.all(values).then(resolvedValues => {
            const valueMap = new Map();
            let i = 0;
            // The promises *should* be in the original order of the map
            for (let key of keys) {
                let promise = resolvedValues[i++];
                valueMap.set(key, promise);
            }
            resolve(valueMap);
        });
    });
}
exports.keyPromiseMapToPromiseContainingMap = keyPromiseMapToPromiseContainingMap;
//# sourceMappingURL=util.js.map