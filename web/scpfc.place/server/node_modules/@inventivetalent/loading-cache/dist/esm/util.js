export function asArray(iterable) {
    if (iterable instanceof Array) {
        return iterable;
    }
    return Array.from(iterable);
}
export function keyPromiseMapToPromiseContainingMap(keyToPromiseMap) {
    return new Promise(resolve => {
        const keys = keyToPromiseMap.keys();
        const values = keyToPromiseMap.values();
        Promise.all(values).then(resolvedValues => {
            const valueMap = new Map();
            let i = 0;
            // The promises *should* be in the original order of the map
            for (let key of keys) {
                let promise = resolvedValues[i++];
                valueMap.set(key, promise);
            }
            resolve(valueMap);
        });
    });
}
//# sourceMappingURL=util.js.map